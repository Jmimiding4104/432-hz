"use strict";(self["webpackChunk_432_hz"]=self["webpackChunk_432_hz"]||[]).push([[144],{227:function(t,a,s){s.d(a,{Z:function(){return b}});var i=s(6252);const e={class:"footer"},n=(0,i._)("span",null,"HOME",-1),o=(0,i._)("span",null,"STORE",-1),l=(0,i._)("span",null,"CART",-1),c=(0,i._)("span",null,"FOLLOW",-1),r=(0,i._)("span",null,"LOGIN",-1),d=(0,i.uE)('<div class="footer-text"><p>地址：32041桃園市中壢區中和路139號</p><p>電話：<a href="tel:+886-3-4223235">03-422-3235</a></p><p> 信箱：<a href="mailto:Jmimiding4104@gmail.com">Jmimiding4104@gmail.com</a></p><p>服務時間：09：00 ~ 18：00</p></div><div class="footer-icon"><div class="icon-item"><a href="https://www.facebook.com/432Hz-100314029349414/?ref=page_internal"><i class="bi bi-facebook"></i></a></div><div class="icon-item"><a href="https://github.com/Jmimiding4104/432-hz"><i class="bi bi-github"></i></a></div></div><div class="copyright"><p>Copyright © 2022 Jmimiding4104 此網頁僅個人作品，並無任何商業行為</p></div>',3);function v(t,a){const s=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",e,[(0,i._)("ul",null,[(0,i._)("li",null,[(0,i.Wm)(s,{class:"navbar-brand",to:"/"},{default:(0,i.w5)((()=>[n])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(s,{class:"navbar-brand",to:"/Products"},{default:(0,i.w5)((()=>[o])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(s,{class:"navbar-brand",to:"/Cart"},{default:(0,i.w5)((()=>[l])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(s,{class:"navbar-brand",to:"/Follow"},{default:(0,i.w5)((()=>[c])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(s,{class:"navbar-brand",to:"/Login"},{default:(0,i.w5)((()=>[r])),_:1})])]),d])}var u=s(3744);const f={},p=(0,u.Z)(f,[["render",v]]);var b=p},7795:function(t,a,s){s.d(a,{Z:function(){return O}});var i=s(6252),e=s(3577),n=s(6949);const o={class:"front-navbar"},l={class:"navbar navbar-expand-lg navbar-dark bg-primary"},c={class:"container-fluid"},r={class:"navbar-logo"},d=(0,i._)("img",{style:{height:"100%"},src:n},null,-1),v=(0,i._)("span",{class:"navbar-toggler-icon"},null,-1),u=[v],f={class:"collapse navbar-collapse navbar-list-rwd-991",ref:"collapse"},p={class:"navbar-nav mb-2 mb-lg-0"},b={class:"nav-item"},g=(0,i.Uk)(" 產品列表 "),h={class:"nav-item"},m=(0,i.Uk)(" 訂單查詢 "),_={class:"nav-item"},k=(0,i.Uk)(" 加入我們 "),w={class:"nav-item"},y={class:"bi bi-bag"},C={class:"position-absolute top-10 start-90 translate-middle badge rounded-pill bg-danger"};function F(t,a,s,n,v,F){const L=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("nav",l,[(0,i._)("div",c,[(0,i._)("div",r,[(0,i.Wm)(L,{class:"navbar-brand",to:"/"},{default:(0,i.w5)((()=>[d])),_:1})]),(0,i._)("button",{class:"navbar-toggler",type:"button",onClick:a[0]||(a[0]=a=>t.toggleNavHam())},u),(0,i._)("div",f,[(0,i._)("ul",p,[(0,i._)("li",b,[(0,i.Wm)(L,{class:"nav-link",id:"link",to:"/Products",onClick:a[1]||(a[1]=a=>t.closeNavHam())},{default:(0,i.w5)((()=>[g])),_:1})]),(0,i._)("li",h,[(0,i.Wm)(L,{class:"nav-link",id:"link",to:"/Follow",onClick:a[2]||(a[2]=a=>t.closeNavHam())},{default:(0,i.w5)((()=>[m])),_:1})]),(0,i._)("li",_,[(0,i.Wm)(L,{class:"nav-link",id:"link",to:"/Product/-N12zdPYO8jPUcn-Q4nR",onClick:a[3]||(a[3]=a=>t.closeNavHam())},{default:(0,i.w5)((()=>[k])),_:1})]),(0,i._)("li",w,[(0,i.Wm)(L,{class:"nav-link",id:"link",to:"/Cart",onClick:a[4]||(a[4]=a=>t.closeNavHam())},{default:(0,i.w5)((()=>[(0,i._)("i",y,[(0,i._)("span",C,(0,e.zw)(v.carts.length),1)])])),_:1})])])],512)])])])}var L=s(1167),D={inject:["emitter"],mixins:[L.Z],data(){return{carts:{}}},methods:{getData(){const t="https://vue3-course-api.hexschool.io/v2/api/daikai4104/cart";this.$http.get(t).then((t=>{this.carts=t.data.data.carts}))}},mounted(){this.getData(),this.emitter.on("get-cart",(()=>this.getData()))}},W=s(3744);const N=(0,W.Z)(D,[["render",F]]);var O=N},2144:function(t,a,s){s.r(a),s.d(a,{default:function(){return M}});var i=s(6252);const e=(0,i._)("i",{class:"bi bi-arrow-up-circle-fill"},null,-1),n=[e];function o(t,a,s,e,o,l){const c=(0,i.up)("FrontNavbar"),r=(0,i.up)("router-view"),d=(0,i.up)("OffcanvasView"),v=(0,i.up)("FrontFooter");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(c,{class:"FrontNavbar",style:{"z-index":"999"}}),(0,i.Wm)(r),(0,i._)("div",{type:"button",onClick:a[0]||(a[0]=t=>l.goTop())},n),(0,i._)("div",null,[(0,i.Wm)(d)]),(0,i.Wm)(v)],64)}var l=s(7795),c=s(227),r=s(3577),d=s(9963);const v={class:"offcanvas-view",style:{"z-index":"999"}},u={class:"position-absolute top-0 start-0 translate-middle badge rounded-pill bg-danger"},f=(0,i._)("span",{class:"visually-hidden"},"unread messages",-1),p=(0,i._)("button",{title:"收藏",class:"btn btn-success offcanvas-view-btn",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight","aria-controls":"offcanvasRight"},[(0,i._)("i",{class:"bi bi-bag-heart"})],-1),b={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offcanvasRight","aria-labelledby":"offcanvasRightLabel"},g={class:"offcanvas-header"},h={class:"offcanvas-header-title"},m=(0,i._)("h5",{id:"offcanvasRightLabel"},"我的收藏",-1),_=(0,i._)("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),k={class:"offcanvas-body"},w={class:"offcanvas-body-content"},y={class:"offcanvas-products-btn-img-title"},C={class:"offcanvas-products-btn"},F=["onClick"],L=(0,i._)("i",{class:"bi bi-heart-fill"},null,-1),D=[L],W={class:"offcanvas-products-title"},N={class:"offcanvas-products-select-btn"},O={class:"offcanvas-products-select"},x=["onUpdate:modelValue"],z=(0,i._)("option",{value:"",disabled:"",selected:""},"--請選擇數量--",-1),H=["value"],S={class:"offcanvas-products-cart"},$=["onClick"],Z=(0,i._)("i",{class:"bi bi-cart-plus"},null,-1),R=[Z],T={class:"offcanvas-products-go-cart"};function U(t,a,s,e,n,o){return(0,i.wg)(),(0,i.iD)("div",v,[(0,i._)("span",u,[(0,i.Uk)((0,r.zw)(n.favoriteList.length)+" ",1),f]),p,(0,i._)("div",b,[(0,i._)("div",g,[(0,i._)("div",h,[m,(0,i._)("button",{type:"button",class:"btn btn-outline-danger",onClick:a[0]||(a[0]=t=>o.clearfavorite())},"清空最愛")]),_]),(0,i._)("div",k,[(0,i._)("div",w,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.favoriteList,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"offcanvas-products",key:t.id},[(0,i._)("div",y,[(0,i._)("div",C,[(0,i._)("button",{type:"button",class:"btn btn-outline-danger",onClick:a=>o.toggleFavorite(t.id)},D,8,F)]),(0,i._)("div",{class:"offcanvas-products-img",style:(0,r.j5)({backgroundImage:`url(${t.imageUrl})`})},null,4),(0,i._)("div",W,(0,r.zw)(t.title),1)]),(0,i._)("div",N,[(0,i._)("div",O,[(0,i.wy)((0,i._)("select",{class:"form-select","onUpdate:modelValue":a=>t.qty=a},[z,((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(100,(a=>(0,i._)("option",{value:a,key:`${a}${t.id}`},(0,r.zw)(a),9,H))),64))],8,x),[[d.bM,t.qty]])]),(0,i._)("div",S,[(0,i._)("button",{class:"btn btn-primary",type:"button",onClick:a=>o.addToCart(t.id,t.qty)},R,8,$)])])])))),128))]),(0,i._)("div",T,[(0,i._)("button",{class:"btn btn-primary",type:"button",onClick:a[1]||(a[1]=t=>this.$router.push("/Cart"))},"前往結帳")])])])])}var J=s(7244),P={inject:["emitter"],data(){return{offcanvasList:"",favorite:JSON.parse(localStorage.getItem("favorite"))||[],favoriteList:[],products:[],qty:""}},methods:{getData(){const t="https://vue3-course-api.hexschool.io/v2/api/daikai4104/products/all";this.$http.get(t).then((t=>{this.products=t.data.products,this.getFavoriteList()}))},getFavoriteList(){this.favorite=JSON.parse(localStorage.getItem("favorite"))||[],this.favoriteList=this.products.filter((t=>this.favorite.indexOf(t.id)>-1))},toggleFavorite(t){const a=this.favorite.findIndex((a=>a===t));-1===a?this.favorite.push(t):this.favorite.splice(a,1),this.getData(),this.emitter.emit("getFavoriteProducts")},addToCart(t,a=1){this.isLoading=!0;const s={product_id:t,qty:a},i="https://vue3-course-api.hexschool.io/v2/api/daikai4104/cart";this.$http.post(i,{data:s}).then((t=>{this.emitter.emit("get-cart"),this.$httpMessageState(t,"加入購物車"),this.isLoading=!1})).catch((t=>{this.$httpMessageState(t.response,"加入購物車"),this.isLoading=!1}))},clearfavorite(){this.favorite=[],this.getData(),this.emitter.emit("getFavoriteProducts")}},watch:{favorite:{handler(){localStorage.setItem("favorite",JSON.stringify(this.favorite))},deep:!0}},mounted(){const t=[].slice.call(document.querySelectorAll(".offcanvas"));this.offcanvasList=t.map((function(t){return new J.TB(t)})),this.emitter.on("getFavorite",(()=>this.getData())),this.getData()}},q=s(3744);const I=(0,q.Z)(P,[["render",U]]);var V=I,j={data(){return{}},components:{FrontNavbar:l.Z,FrontFooter:c.Z,OffcanvasView:V},methods:{goTop(){document.documentElement.scrollTop=0},oo(){this.$refs.OffcanVas.toggle()}}};const E=(0,q.Z)(j,[["render",o]]);var M=E}}]);
//# sourceMappingURL=144.3c0fe6a7.js.map