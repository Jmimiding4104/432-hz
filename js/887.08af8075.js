"use strict";(self["webpackChunk_432_hz"]=self["webpackChunk_432_hz"]||[]).push([[887],{9887:function(t,e,l){l.r(e),l.d(e,{default:function(){return K}});var i=l(6252),s=l(3577);const a={class:"complete-view"},n=(0,i.uE)('<div class="complete-cart-line"><i class="bi bi-bag"></i><div class="cart-line-space"></div><i class="bi bi-pencil"></i><div class="cart-line-space"></div><i class="bi bi-check-all"></i></div>',1),r={class:"complete-section"},d={class:"complete-section-title"},o={key:0},c={key:1},u={class:"complete-section-table"},p=(0,i._)("h3",null,"您的訂單資訊",-1),_=(0,i._)("th",null,"您的訂單編號",-1),h=(0,i._)("th",null,"您的姓名",-1),w=(0,i._)("th",null,"您的信箱",-1),v=(0,i._)("th",null,"您的地址",-1),b={key:0},g=(0,i._)("th",null,"您的留言",-1),k=(0,i._)("th",null,"付款情況",-1),y={key:0,style:{color:"green"}},m={key:1,style:{color:"red"}},z=(0,i._)("h3",null,"您的訂單內容",-1),D={class:"complete-section-table2"},f=(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",{style:{width:"50%"}},"品名"),(0,i._)("th",{style:{width:"20%"}},"單位"),(0,i._)("th",{style:{width:"30%"}},"價格")])],-1),$={class:"complete-order-total"},L={class:"complete-bnt"},q={key:0,class:"complete-bnt-pay"},x={class:"complete-bnt-pay-section"},C=(0,i._)("i",{class:"bi bi-arrow-left-square"},null,-1),T=(0,i.Uk)(" 繼續購物 "),U={class:"complete-bnt-pay-section"},W=(0,i.Uk)(" 前往付款 "),H=(0,i._)("i",{class:"bi bi-cash-coin"},null,-1),I=[W,H],M={key:1,class:"complete-bnt-pay-finish"},N=(0,i.Uk)(" 謝謝您的支持，點擊回至首頁。 ");function O(t,e,l,W,H,O){const S=(0,i.up)("IsLoading"),Y=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(S,{style:{"z-index":"1000"},active:H.isLoading},null,8,["active"]),(0,i._)("div",a,[n,(0,i._)("div",r,[(0,i._)("div",d,[0==H.order.is_paid?((0,i.wg)(),(0,i.iD)("div",o," 訂單已成立 ")):((0,i.wg)(),(0,i.iD)("div",c," 付款成功 "))]),(0,i._)("div",u,[p,(0,i._)("table",null,[(0,i._)("tr",null,[_,(0,i._)("td",null,(0,s.zw)(H.order.id),1)]),(0,i._)("tr",null,[h,(0,i._)("td",null,(0,s.zw)(H.order.user?.tel),1)]),(0,i._)("tr",null,[w,(0,i._)("td",null,(0,s.zw)(H.order.user?.email),1)]),(0,i._)("tr",null,[v,(0,i._)("td",null,(0,s.zw)(H.order.user?.address),1)]),0==H.order.message?((0,i.wg)(),(0,i.iD)("tr",b,[g,(0,i._)("td",null,(0,s.zw)(H.order.message),1)])):(0,i.kq)("",!0),(0,i._)("tr",null,[k,1==H.order.is_paid?((0,i.wg)(),(0,i.iD)("td",y,"已付款")):((0,i.wg)(),(0,i.iD)("td",m,"未付款"))])]),z,(0,i._)("table",D,[f,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(H.order.products,(t=>((0,i.wg)(),(0,i.iD)("tr",{key:t.id},[(0,i._)("td",null,(0,s.zw)(t.product.title),1),(0,i._)("td",null,(0,s.zw)(t.qty)+(0,s.zw)(t.product.unit),1),(0,i._)("td",null,"NT$"+(0,s.zw)(t.total)+"元",1)])))),128))])]),(0,i._)("div",$," 訂單金額 NT$"+(0,s.zw)(parseInt(H.order.total))+"元 ",1)])]),(0,i._)("div",L,[0==H.order.is_paid?((0,i.wg)(),(0,i.iD)("div",q,[(0,i._)("div",x,[(0,i.Wm)(Y,{class:"nav-link",id:"link",to:"/Products"},{default:(0,i.w5)((()=>[C,T])),_:1})]),(0,i._)("div",U,[(0,i._)("button",{type:"button",onClick:e[0]||(e[0]=t=>O.payOrder())},I)])])):((0,i.wg)(),(0,i.iD)("div",M,[(0,i.Wm)(Y,{class:"nav-link",id:"link",to:"/"},{default:(0,i.w5)((()=>[N])),_:1})]))])])],64)}var S={data(){return{isLoading:!1,order:""}},methods:{getData(){this.isLoading=!0;const{id:t}=this.$route.params,e=`https://vue3-course-api.hexschool.io/v2/api/daikai4104/order/${t}`;this.$http.get(e).then((t=>{this.order=t.data.order,this.isLoading=!1,window.scrollTo(0,0)}))},payOrder(){const{id:t}=this.$route.params,e=`https://vue3-course-api.hexschool.io/v2/api/daikai4104/pay/${t}`;this.$http.post(e).then((t=>{this.$httpMessageState(t,"付款"),this.getData()})).catch((t=>{this.$httpMessageState(t.response,"付款")}))}},mounted(){this.getData()}},Y=l(3744);const E=(0,Y.Z)(S,[["render",O]]);var K=E}}]);
//# sourceMappingURL=887.08af8075.js.map